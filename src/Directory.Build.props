<Project>
	<PropertyGroup>
		<IsWindows Condition="$([MSBuild]::IsOSPlatform('Windows'))">true</IsWindows>
		<IsOSX Condition="$([MSBuild]::IsOSPlatform('OSX'))">true</IsOSX>
		<IsLinux Condition="$([MSBuild]::IsOSPlatform('Linux'))">true</IsLinux>


		<!-- TODO the next thing does not work on rider, enabling coding style check by default. -->
		<!--<CheckCodingStyle Condition="$(BuildingInsideVisualStudio) == true">true</CheckCodingStyle>-->
		<!--<CheckCodingStyle Condition="$(BuildingInsideReSharper) == true">true</CheckCodingStyle>-->
		<CheckCodingStyle Condition="$(CheckCodingStyle) == ''">true</CheckCodingStyle>
	</PropertyGroup>

	<ItemGroup Condition="$(CheckCodingStyle) == true">
		<PackageReference Include="SerilogAnalyzer" Version="0.15.0" PrivateAssets="All" />
		<PackageReference Include="StyleCop.Analyzers" Version="1.2.0-beta.354" PrivateAssets="All" />

		<AdditionalFiles Include="$(MSBuildThisFileDirectory)../stylecop.json" Link="stylecop.json" Visible="false" />
		<None Include="$(MSBuildThisFileDirectory)../.editorconfig" Link=".editorconfig" Visible="false" />
	</ItemGroup>

	<PropertyGroup Condition="$(CheckCodingStyle) == true">
		<GenerateDocumentationFile>true</GenerateDocumentationFile>
		<NoWarn>CS1591;SA1600;SA1601</NoWarn>
		<EnforceCodeStyleInBuild>true</EnforceCodeStyleInBuild>
		<CodeAnalysisRuleSet>$(MSBuildThisFileDirectory)../Kyoo.ruleset</CodeAnalysisRuleSet>
<!--		<AnalysisMode>AllEnabledByDefault</AnalysisMode>-->
	</PropertyGroup>
</Project>
